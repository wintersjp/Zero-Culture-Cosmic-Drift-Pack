; Bringing Kenwood to life

; First, letâ€™s create a mesh for the display. We could use the single mesh for everything, but not with those 
; PBR shaders:
[INCLUDE: android_auto/config.ini][] ; (there is a neat mixin for simple extra shapes in Android Auto config)
@ = Display_ExtraShape, P1 = "0.0778, 0.4715, 0.612", P2 = "0.0085, 0.4715, 0.612", P3 = "0.0085, 0.4265, 0.5845", P4 = "0.0778, 0.4265, 0.5845", ParentNode = 'FBX: zc_nissan_s13.fbx', ScreenScale = 320

; Now letâ€™s prepare custom navigator setup:
[INCLUDE: common/navigators.ini]

; Config for the way map will look:
[MIXIN: Navigator_MapKenwoodMna350]
BrightMap = 1
MAP_COLOR_BG_TOP = "#FFF0E0"
MAP_COLOR_BG_BOTTOM = "#FFF0E0"
MAP_COLOR_GRASS = "#48862B"
MAP_OUTLINE_GRASS = 0
MAP_COLOR_ROADS = "#E14E57"
MAP_OUTLINE_ROADS = 0.5
MAP_COLOR_WALLS = "#5E615F"
MAP_OUTLINE_WALLS = 0.5
MAP_COLOR_BUILDINGS = "#FFF0E0"
MAP_OUTLINE_BUILDINGS = 0.5
MAP_COLOR_WATER = "#1D8DD2"
MAP_OUTLINE_WATER = 0.5
MAP_INVERT_FALLBACK_MAP = 0
CAR_MARK_COLOR_LEFT = "#96323D"
CAR_MARK_COLOR_RIGHT = "#DC3C45"
POI_BORDER_COLOR = "#002244"
POI_ICON_SCALE = 0.7
PATH_COLOR = "#D4A4E1"
PATH_BORDER_COLOR = "#8972A3"
LABELS_OUTLINE_COLOR = "#000"

; UI colors and tweaks:
[MIXIN: Navigator_ThemeKenwoodMna350]
BrightTheme = 0
FgColor = "#FFF"
BgColor = "#0044BB"
BorderColor = "#99EEFF"
BorderThickness = 2
BorderRadius = 2

ButtonFgColor = "#FFF"
ButtonBgColor = "#222244"
ButtonBgColorHovered = "#444466"
ButtonBorderColor = "#FFF"
ButtonBorderRadius = 2

SmallButtonIconSize = 60%
SmallButtonBgColor = "#55FFFFFF"
SmallButtonBgColorHovered = "#555577"
SmallButtonFgColor = "#0077AA"
SmallButtonBorderThickness = 1
SmallButtonBorderRadius = 6
SmallButtonBorderColor = "#000"

MessageBgColor = "#0077AA"
MessageTextColor = "#FFF"
MessageIconColor = "#FFF"
MessageBorderRadius = 2
MessageBorderColor = "#FFF"
MessageBorderThickness = 2

LOADING_STYLE = 0
LOADING_ANIMATION_OFFSET = 0, -30
LOADING_ANIMATION_SCALE = 2
LOADING_THICKNESS_MULT = 1.5
LOADING_ACCENT_COLOR = '#ffffff'
LOADING_BG_COLOR = '#0D7AD0'
LOADING_TEXTURE_NAME = 'kenwood_bg.png'
LOADING_ICON_SCALE = 5, 3.75
LOADING_ICON_OFFSET = 0, 24

; Actual layout, a bit weird because of the oldschoolness of the device:
[MIXIN: Navigator_LayoutKenwoodMna350]
SmallButtonSize = 42

@ = Navigator_Component, ComponentID = MESSAGE
@ = Navigator_FadingComponent, Time = 0.4
@ = Navigator_ComponentLayout, Left = 40, Right = 40, Top = 100, Bottom = 100, Align = "0, 0.5", Padding = "68, 0", SmallFont
@ = Navigator_ComponentLayout_ExtraObject, ObjectID = ICON, ObjectCenter = "50, 50%", ObjectSize = 12

@ = Navigator_Component, ComponentID = SECTOR_INFO
@ = Navigator_ThemedComponent, FgColor = "#ffff00"
@ = Navigator_ComponentLayout, Left = 88, Bottom = 0, Width = 162, Height = 27, Align = "0.5, 0.5", FontScale = 0.8

; Thanks to ChatGPT for these one:
UPCOMING_TURN_TURNING_TEXT = "ã™ã"
TRAVEL_INFO_NA_TEXT = "ãªã—"
TIME_LEFT_NA_TEXT = "ãªã—"
ARRIVAL_TIME_NA_TEXT = "ãªã—"
BTN_PHONE_MESSAGE = "ç¾åœ¨åˆ©ç”¨ä¸å¯"

@ = Navigator_Component, ComponentID = CURRENT_TRACK
@ = Navigator_ThemedComponent
@ = Navigator_ComponentLayout, Left = 0, Right = 0, Top = 0, Height = 26,\
	Padding = "0, 0", Align = "0.5", IconCenter = "-100%, 50%", IconSize = 12, FontScale = 0.5
CURRENT_TRACK_FORMAT = "ç¾åœ¨ã®å†ç”Ÿæ›²: ã€Œ{Track}ã€"
CURRENT_TRACK_NOARTIST_FORMAT = "ç¾åœ¨ã®å†ç”Ÿæ›²: ã€Œ{Track}ã€"

; Compass doubling as GPS meter
@ = Navigator_Component, ComponentID = BTN_ALIGN
@ = Navigator_ComponentLayout, Top = 5, Left = 5, Width = 30, Height = 30, Align = "0.5, 0.5"
@ = Navigator_ComponentLayout_ExtraIcon, IconID = 0, Icon = UP, Center = "50%, -10%", Size = "35%, 60%", Color = "#000000"
@ = Navigator_ComponentLayout_ExtraIcon, IconID = 1, Icon = UP, Center = "50%, 110%", Size = "35%, -60%", Color = "#000000"
@ = Navigator_ComponentLayout_ExtraIcon, IconID = 2, Icon = UP, Center = "50%, 0%", Size = "25%, 50%", Color = "#ff0000"
@ = Navigator_ComponentLayout_ExtraIcon, IconID = 3, Icon = UP, Center = "50%, 100%", Size = "25%, -50%", Color = "#ffffff"
BTN_ALIGN_ANGLE = COMPASS_MAP
BTN_ALIGN_ICON = 
@ = Navigator_Component, ComponentID = BTN_LOCK
@ = Navigator_ComponentLayout, Top = 5, Left = 5, Width = 30, Height = 30, Align = "0.5, 0.5"
@ = Navigator_ComponentLayout_ExtraIcon, IconID = 0, Icon = UP, Center = "50%, -10%", Size = "35%, 60%", Color = "#000000"
@ = Navigator_ComponentLayout_ExtraIcon, IconID = 1, Icon = UP, Center = "50%, 110%", Size = "35%, -60%", Color = "#000000"
@ = Navigator_ComponentLayout_ExtraIcon, IconID = 2, Icon = UP, Center = "50%, 0%", Size = "25%, 50%", Color = "#ff0000"
@ = Navigator_ComponentLayout_ExtraIcon, IconID = 3, Icon = UP, Center = "50%, 100%", Size = "25%, -50%", Color = "#ffffff"
BTN_LOCK_ANGLE = COMPASS_MAP
BTN_LOCK_ICON = 
@ = Navigator_Component, ComponentID = SATELLITE_LEVEL
@ = Navigator_ThemedComponent, BgColor = "#0077AA", BorderColor = "#004477", BorderRadius = 4
@ = Navigator_ComponentLayout, Top = 39, Left = 3, Width = 34, Height = 24, Align = "0.5, 0.5", IconSize = 0
@ = Navigator_ComponentLayout_ExtraText, TextID = 0, Role = "LOW, MEDIUM, STRONG", Text = "GPS", Align = "0.5, 0.5", Padding = "0, 0, 0, 0", Color = "#FFFFFF", FontScale = "0.5"
@ = Navigator_ComponentLayout_ExtraText, TextID = 1, Role = "LOST", Text = "GPS", Align = "0.5, 0.5", Padding = "0, 0, 0, 0", Color = "#888888", FontScale = "0.5"

@ = Navigator_Component, ComponentID = SCALE_METER
@ = Navigator_ComponentLayout, Top = 72, Left = 4, Width = 40, Height = 16, Align = "0.5, 0.5", FontScale = 0.5, SmallFont, Padding = "0, 0, 8, 0"
@ = Navigator_ComponentLayout_ExtraText, TextID = 0, Text = "m", Role = SMALL, Align = "1.2, 0.75", Color = '#000000', AlignToCorner = 2, SmallFont, FontScale = 0.3
@ = Navigator_ComponentLayout_ExtraText, TextID = 1, Text = "km", Role = BIG, Align = "1.2, 0.75", Color = '#000000', AlignToCorner = 2, SmallFont, FontScale = 0.3
SCALE_METER_TEXT_COLOR = '#000000'
SCALE_METER_DISTANCE_ROUND_TO = 100
SCALE_METER_GROW_DIRECTION = 1, -1
SCALE_METER_FORMAT_SMALL = '%.0f'
SCALE_METER_FORMAT_BIG = '%.1f'

; Navigator stuff
@ = Navigator_Component, ComponentID = UPCOMING_TURN
@ = Navigator_ThemedComponent
@ = Navigator_ComponentLayout, Right = 0, Top = 28, Width = 95, Height = 30, Align = "0.5, 0.5", Padding = "30, 0, 6, 0", FontScale = 0.8
UPCOMING_TURN_FORMAT_SMALL = '%.0f'
UPCOMING_TURN_FORMAT_BIG = '%.1f'
@ = Navigator_ComponentLayout_ExtraObject, ObjectID = ARROW, ObjectCenter = "15, 40%", ObjectSize = 10
UPCOMING_TURN_SIMPLE_ARROW = 0
UPCOMING_TURN_ARROW_THICKNESS = 4
UPCOMING_TURN_ARROW_PARAMS_0 = 1, 0.4, 0.4, 1
UPCOMING_TURN_ARROW_PARAMS_1 = 1, 0.4, 0.4, 0.8
UPCOMING_TURN_ARROW_ROUND_TO = 45
@ = Navigator_ComponentLayout_ExtraLine, From = "30, 0", To = "30, 30", Thickness = 2, Color = '#ffffff', LineID = 0
@ = Navigator_ComponentLayout_ExtraText, TextID = 0, Text = "m", Role = SMALL, Align = "1.2, 0.85", Color = $FgColor, AlignToCorner = 2, SmallFont, FontScale = 0.4
@ = Navigator_ComponentLayout_ExtraText, TextID = 1, Text = "km", Role = BIG, Align = "1.2, 0.85", Color = $FgColor, AlignToCorner = 2, SmallFont, FontScale = 0.4

@ = Navigator_Component_SimpleButton, ComponentID = BTN_ZOOM_IN, Right = 12, Top = 70
@ = Navigator_Component_SimpleButton, ComponentID = BTN_ZOOM_OUT, Right = 12, Top = 140

@ = Navigator_Component, ComponentID = ARRIVAL_TIME
@ = Navigator_ThemedComponent
@ = Navigator_ComponentLayout, Bottom = 0, Left = 0, Width = 86, Height = 48, Align = "0.5, 0.8"
@ = Navigator_ComponentLayout_ExtraText, TextID = 0, Text = "åˆ°ç€", Align = "0.5, 0", Color = $FgColor, FontScale = 0.8

; This way track name can be translated to Japanese
@ = Navigator_Component, ComponentID = STATIC_0
@ = Navigator_ThemedComponent
@ = Navigator_ComponentLayout, Top = 0, Right = 0, Width = 201, Height = 26, Align = "0.5, 0.8"
@ = Navigator_ComponentLayout_ExtraText, TextID = 0, Text = "{Lua:TrackName}", Align = "0.5, 0.5", Padding = "0, -4, 0, 0", Color = $FgColor, FontScale = "0.8, 1"

; Fake menu button
@ = Navigator_Component, ComponentID = BTN_PHONE
@ = Navigator_ThemedComponent, BorderThickness = 2, BorderColor = "#002266", BorderRadius = 0
@ = Navigator_ComponentLayout, Right = 2, Bottom = 0, Width = 60, Height = 30, IconSize = 0
@ = Navigator_ComponentLayout_ExtraText, TextID = 0, Text = "ãƒ¡ãƒ‹ãƒ¥ãƒ¼", Align = "0.5, 0.5", Color = $FgColor, FontScale = "0.6, 0.8"
@ = Navigator_ComponentLayout_ExtraLine, LineID = 0, From = "0, 0", To = "59, 0", Thickness = 2, Color = "#00D6FF"
@ = Navigator_ComponentLayout_ExtraLine, LineID = 1, From = "0, 0", To = "0, 29", Thickness = 2, Color = "#00D6FF"

; Script which is going to run once and try and find localized track name:
[SCRIPT_â€¦]
; List of names is generated based on Wikipedia, Google Maps and initiald.fandom.com based on tracks in data_track_params.ini. Not sure
; if itâ€™s any accurate, but maybe itâ€™s just the obsolete data in the navigator maps or something ğŸ¤”
SKIP_FRAMES = 0
SCRIPT = '
local n={spa="ã‚¹ãƒ‘ãƒ»ãƒ•ãƒ©ãƒ³ã‚³ãƒ«ã‚·ãƒ£ãƒ³",ks_brands_hatch="ãƒ–ãƒ©ãƒ³ã‚ºãƒ»ãƒãƒƒãƒ",imola="ã‚¤ãƒ¢ãƒ©ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",monza="ãƒ¢ãƒ³ãƒ„ã‚¡ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",mugello="ãƒ ã‚¸ã‚§ãƒ­ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",ks_barcelona="ã‚«ã‚¿ãƒ­ãƒ‹ã‚¢ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",drift="ãƒ‰ãƒªãƒ•ãƒˆèµ°è¡Œ",minami="ã‚¨ãƒ“ã‚¹å— (ãƒ‰ãƒªãƒ•ãƒˆã‚¹ã‚¿ã‚¸ã‚¢ãƒ )",fs_ebisu_minami="ã‚¨ãƒ“ã‚¹å— (ãƒ‰ãƒªãƒ•ãƒˆã‚¹ã‚¿ã‚¸ã‚¢ãƒ )",hidashi_tengoku="ã¯ã ã—å¤©å›½ã‚µãƒ¼ã‚­ãƒƒãƒˆ",tsukuba="ç­‘æ³¢ã‚µãƒ¼ã‚­ãƒƒãƒˆ",tsukuba_circuit="ç­‘æ³¢ã‚µãƒ¼ã‚­ãƒƒãƒˆ",suzuka_2018="éˆ´é¹¿ã‚µãƒ¼ã‚­ãƒƒãƒˆ",suzuka_twin_drift="éˆ´é¹¿ã‚µãƒ¼ã‚­ãƒƒãƒˆ",["yamanashi-long"]="ã‚¹ãƒãƒ¼ãƒ„ãƒ©ãƒ³ãƒ‰ã‚„ã¾ãªã—",["yamanashi-short"]="ã‚¹ãƒãƒ¼ãƒ„ãƒ©ãƒ³ãƒ‰ã‚„ã¾ãªã—",acjp_fujispeedway="å¯Œå£«ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",dousojin_touge_1990="é“ç¥–ç¥å³ ",dousojin_touge="é“ç¥–ç¥å³ ",c1="é¦–éƒ½é«˜é€Ÿé“è·¯",shuto_revival_project_beta="é¦–éƒ½é«˜é€Ÿé“è·¯",soyo_osaka="å¤§é˜ªç’°çŠ¶ç·š",srp_daikoku="å¤§é»’ï¼°ï¼¡(å„ç·šé›†ç´„å‹)",ek_akagi="èµ¤åŸå±±",ek_akina_lake="æ¦›åå±±",ek_akina="æ¦›åå±±",ek_happogahara="å…«æ–¹ãƒ¶åŸ",ek_irohazaka="ã„ã‚ã¯å‚",ek_momiji="ã‚‚ã¿ã˜ãƒ©ã‚¤ãƒ³",ek_myogi="å¦™ç¾©å±±",ek_nagao="é•·å°¾",ek_nanamagari="ä¸ƒæ›²ã‚Š",ek_sadamine="å®šå³°å³ ",ek_tsubaki_line="æ¤¿ãƒ©ã‚¤ãƒ³",prague="ãƒ—ãƒ©ãƒ",hong="é¦™æ¸¯",isle_of_man="ãƒãƒ³å³¶",malagoli_fuji_speedway_gp="å¯Œå£«ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",ddm_fujimi_kaido="å¯Œå£«ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",fujispeedway="å¯Œå£«ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",ddm_gts_tsukuba="ç­‘æ³¢ã‚µãƒ¼ã‚­ãƒƒãƒˆ",suzuka="éˆ´é¹¿ã‚µãƒ¼ã‚­ãƒƒãƒˆ",ablz_targaflorio73="ã‚¿ãƒ«ã‚¬ãƒ»ãƒ•ãƒ­ãƒ¼ãƒªã‚ª",actk_losail_circuit="ãƒ«ã‚µã‚¤ãƒ«ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",acu_autosport_speedway="ã‚ªãƒ¼ãƒˆã‚¯ãƒ©ãƒ–ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",["acu_barcelona-city"]="ã‚«ã‚¿ãƒ­ãƒ‹ã‚¢ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",acu_bathurst="ãƒã‚¦ãƒ³ãƒˆãƒ»ãƒ‘ãƒãƒ©ãƒãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",acu_interlagos="ã‚¤ãƒ³ãƒ†ãƒ«ãƒ©ã‚´ã‚¹ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",acu_sochi="ã‚½ãƒãƒ»ã‚ªãƒ¼ãƒˆãƒ‰ãƒ­ãƒ¼ãƒ ",adelaide2011="ã‚¢ãƒ‡ãƒ¬ãƒ¼ãƒ‰å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",["akagi mountain pass"]="èµ¤åŸå±±",["albert-park"]="ã‚¢ãƒ«ãƒãƒ¼ãƒˆãƒ»ãƒ‘ãƒ¼ã‚¯ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",albi1967="ã‚¢ãƒ«ãƒ“ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",algarve_international_circuit="ã‚¢ã‚¦ãƒˆãƒ¼ãƒ‰ãƒ­ãƒ¢ãƒ»ã‚¤ãƒ³ãƒ†ãƒ«ãƒŠã‚·ã‚ªãƒŠãƒ«ãƒ»ãƒ‰ãƒ»ã‚¢ãƒ«ã‚¬ãƒ«ãƒ´ã‚§",alps="ãƒ–ãƒ¬ãƒ ã‚¬ãƒ«ãƒ†ãƒ³ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",arese="5000ãƒ¡ãƒ¼ãƒˆãƒ«ç«¶æ­©",autumnring="ã‚µãƒ³ã‚¿ã‚¢ãƒ‹ã‚¿ãƒ‘ãƒ¼ã‚¯ç«¶é¦¬å ´",avus="ã‚¢ãƒ´ã‚¹",bahrain="ãƒãƒ¼ãƒ¬ãƒ¼ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",barbagallo="ãƒ¯ãƒãƒ«ãƒ¼ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",bathurst_fm7="ãƒã‚¦ãƒ³ãƒˆãƒ»ãƒ‘ãƒãƒ©ãƒãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",blackwood_carpark="ãƒ–ãƒ©ãƒƒã‚¯ã‚¦ãƒƒãƒ‰",battersea="ã‚¬ãƒ ãƒœãƒ¼ãƒ«3000",brno_circuit="ãƒ–ãƒ«ãƒãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",brno="ãƒ–ãƒ«ãƒãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",bs_lagunaseca="ã‚¦ã‚§ã‚¶ãƒ¼ãƒ†ãƒƒã‚¯ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤ãƒ»ãƒ©ã‚°ãƒŠãƒ»ã‚»ã‚«",castlehill="ãƒ‹ãƒ¥ãƒ«ãƒ–ãƒ«ã‚¯ãƒªãƒ³ã‚¯",castlehillshort="ãƒ‹ãƒ¥ãƒ«ãƒ–ãƒ«ã‚¯ãƒªãƒ³ã‚¯",catalunya="ã‚«ã‚¿ãƒ­ãƒ‹ã‚¢ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",chang="ãƒãƒ£ãƒ¼ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",["china-gp"]="ä¸Šæµ·ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",corsa_club_akagi="èµ¤åŸå±±",corsa_club_shomaru="é ­æ–‡å­—D ARCADE STAGE",corsa_club_tsuchisaka="é ­æ–‡å­—D",croft="ã‚¯ãƒ­ãƒ•ãƒˆãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",daytona_2017="ãƒ‡ã‚¤ãƒˆãƒŠãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",daytona_roadcourse="ãƒ‡ã‚¤ãƒˆãƒŠãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",daytonaoval="ãƒ‡ã‚¤ãƒˆãƒŠãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",ddm_gts_willow_springs="ã‚¦ã‚£ãƒ­ãƒ¼ã‚¹ãƒ—ãƒªãƒ³ã‚°ã‚¹ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",willow="ã‚¦ã‚£ãƒ­ãƒ¼ã‚¹ãƒ—ãƒªãƒ³ã‚°ã‚¹ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",deutschlandring="ãƒ‰ã‚¤ãƒ„ã‚°ãƒ©ãƒ³ãƒ—ãƒª",doningtongp="ãƒ‰ãƒ‹ãƒ³ãƒˆãƒ³ãƒ»ãƒ‘ãƒ¼ã‚¯",doningtonnat="ãƒ‰ãƒ‹ãƒ³ãƒˆãƒ³ãƒ»ãƒ‘ãƒ¼ã‚¯",doningtonpark="ãƒ‰ãƒ‹ãƒ³ãƒˆãƒ³ãƒ»ãƒ‘ãƒ¼ã‚¯",doningtonpark2018="ãƒ‰ãƒ‹ãƒ³ãƒˆãƒ³ãƒ»ãƒ‘ãƒ¼ã‚¯",dortmundcity="ãƒ‰ãƒ«ãƒˆãƒ ãƒ³ãƒˆ",dubai="ãƒ‰ãƒã‚¤ãƒ»ã‚ªãƒ¼ãƒˆãƒ‰ãƒ­ãƒ¼ãƒ ",eastern_creek2014="ã‚¤ãƒ¼ã‚¹ã‚¿ãƒ³ãƒ»ã‚¯ãƒªãƒ¼ã‚¯ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",ebisu_circuit_touge_course="ã‚¨ãƒ“ã‚¹ã‚µãƒ¼ã‚­ãƒƒãƒˆ",estoril="ã‚¨ã‚¹ãƒˆãƒªãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",fonteny="ã‚ªãƒ¼ãƒˆã‚¯ãƒ©ãƒ–ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",forliring="ãƒ‹ãƒ¥ãƒ«ãƒ–ãƒ«ã‚¯ãƒªãƒ³ã‚¯",["gilles-villeneuve"]="ã‚¸ãƒ«ãƒ»ãƒ´ã‚£ãƒ«ãƒŒãƒ¼ãƒ´ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",["glava-zete"]="ã‚µãƒ©ãƒˆã‚¬ç«¶é¦¬å ´",goodwood_circuit="ã‚°ãƒƒãƒ‰ã‚¦ãƒƒãƒ‰ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",goodwood_hillclimb="ã‚°ãƒƒãƒ‰ã‚¦ãƒƒãƒ‰ãƒ»ãƒ•ã‚§ã‚¹ãƒ†ã‚£ãƒãƒ«ãƒ»ã‚ªãƒ–ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰",goodwood="ã‚°ãƒƒãƒ‰ã‚¦ãƒƒãƒ‰ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",grandsambuc="ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",grobnik="ãƒªã‚¨ã‚«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",haruna="æ¦›åå±±",hillclimb_moya_v2="ãƒˆãƒ¨ã‚¿ãƒ»ã‚«ãƒ­ãƒ¼ãƒ©WRC",hockenheim88_dtm="ãƒ›ãƒƒã‚±ãƒ³ãƒã‚¤ãƒ ãƒªãƒ³ã‚¯",hockenheim88_gp="ãƒ›ãƒƒã‚±ãƒ³ãƒã‚¤ãƒ ãƒªãƒ³ã‚¯",hockenheimring="ãƒ›ãƒƒã‚±ãƒ³ãƒã‚¤ãƒ ãƒªãƒ³ã‚¯",hungaroring="ãƒãƒ³ã‚¬ãƒ­ãƒªãƒ³ã‚¯",hunterpark2015="ãƒ¢ãƒ³ãƒã‚¹ãƒ‘ãƒ¼ã‚¯ç«¶é¦¬å ´",indi="ã‚¤ãƒ³ãƒ‡ã‚£ã‚¢ãƒŠãƒãƒªã‚¹ãƒ»ãƒ¢ãƒ¼ã‚¿ãƒ¼ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",india="ãƒ–ãƒƒãƒ€ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",indif1="ã‚¤ãƒ³ãƒ‡ã‚£ã‚¢ãƒŠãƒãƒªã‚¹ãƒ»ãƒ¢ãƒ¼ã‚¿ãƒ¼ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",indifield="ã‚¤ãƒ³ãƒ‡ã‚£ã‚¢ãƒŠãƒãƒªã‚¹ãƒ»ãƒ¢ãƒ¼ã‚¿ãƒ¼ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",indigp="ã‚¤ãƒ³ãƒ‡ã‚£ã‚¢ãƒŠãƒãƒªã‚¹ãƒ»ãƒ¢ãƒ¼ã‚¿ãƒ¼ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",interlagos_br="ã‚¤ãƒ³ãƒ†ãƒ«ãƒ©ã‚´ã‚¹ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",interlagos="ã‚¤ãƒ³ãƒ†ãƒ«ãƒ©ã‚´ã‚¹ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",iwozen_v3="åŒ»ç‹å±±",kicevo="ã‚­ãƒã‚§ãƒ´ã‚©",knockhill2017="ãƒãƒƒã‚¯ãƒ’ãƒ«ãƒ»ãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",korea="éŸ“å›½ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",ks_drag="ãƒ‰ãƒ©ãƒƒã‚°ãƒ¬ãƒ¼ã‚¹",ks_laguna_seca="ã‚¦ã‚§ã‚¶ãƒ¼ãƒ†ãƒƒã‚¯ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤ãƒ»ãƒ©ã‚°ãƒŠãƒ»ã‚»ã‚«",ks_monza66="1966å¹´ã‚¤ã‚¿ãƒªã‚¢ã‚°ãƒ©ãƒ³ãƒ—ãƒª",ks_nordschleife="ãƒ‹ãƒ¥ãƒ«ãƒ–ãƒ«ã‚¯ãƒªãƒ³ã‚¯",ks_nurburgring="ãƒ‹ãƒ¥ãƒ«ãƒ–ãƒ«ã‚¯ãƒªãƒ³ã‚¯",ks_red_bull_ring="ãƒ¬ãƒƒãƒ‰ãƒ–ãƒ«ãƒ»ãƒªãƒ³ã‚¯",ks_silverstone="ã‚·ãƒ«ãƒãƒ¼ã‚¹ãƒˆãƒ³ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",ks_silverstone1967="ã‚·ãƒ«ãƒãƒ¼ã‚¹ãƒˆãƒ³ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",ks_vallelunga="ACIãƒ»ãƒ´ã‚¡ãƒ¬ãƒ«ãƒ³ã‚¬ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",ks_zandvoort="ã‚¶ãƒ³ãƒˆãƒ•ã‚©ãƒ¼ãƒ«ãƒˆãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",le_grand_circuit_1967="ãƒ«ãƒ»ãƒãƒ³24æ™‚é–“ãƒ¬ãƒ¼ã‚¹",lemans_1991="ã‚µãƒ«ãƒˆãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",lemans_2017="ã‚µãƒ«ãƒˆãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",["Leydaring"]="ã‚µãƒ¼ã‚­ãƒƒãƒˆä¸€è¦§",lilski_road_america="ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒ¡ãƒªã‚«",lilski_watkins_glen="ãƒ¯ãƒˆã‚­ãƒ³ã‚ºãƒ»ã‚°ãƒ¬ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«",macau="ã‚®ã‚¢ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",marteles_down="ã‚¦ã‚£ãƒ­ãƒ¼ã‚¹ãƒ—ãƒªãƒ³ã‚°ã‚¹ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",["Matsugadake"]="ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ»ã‚ªãƒ–ãƒ»ã‚¸ãƒ»ã‚¢ãƒ¡ãƒªã‚«ã‚º",monaco_1966="1966å¹´ãƒ¢ãƒŠã‚³ã‚°ãƒ©ãƒ³ãƒ—ãƒª",monaco_2017="ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",["monaco_osrw_1.1"]="ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",monaco="ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",["monte-carlo-stage3"]="ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",["moscow-raceway"]="ãƒ¢ã‚¹ã‚¯ãƒ¯ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",mosport="ã‚«ãƒŠãƒ‡ã‚£ã‚¢ãƒ³ã‚¿ã‚¤ãƒ¤ãƒ»ãƒ¢ã‚¹ãƒãƒ¼ãƒˆãƒ»ãƒ‘ãƒ¼ã‚¯",mount_akina_2017="æ¦›åå±±",nardo="ãƒŠãƒ«ãƒ‰ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",naruto_skyline="ç­‘æ³¢ã‚µãƒ¼ã‚­ãƒƒãƒˆ",newbury_2002="ãƒ‹ãƒ¥ãƒ¼ãƒ™ãƒªãƒ¼ç«¶é¦¬å ´",newbury_2006="ãƒ‹ãƒ¥ãƒ¼ãƒ™ãƒªãƒ¼ç«¶é¦¬å ´",norisring="ãƒãƒªã‚¹ãƒªãƒ³ã‚¯",oesterreichring1979="ãƒ¬ãƒƒãƒ‰ãƒ–ãƒ«ãƒ»ãƒªãƒ³ã‚¯",okayama="å²¡å±±å›½éš›ã‚µãƒ¼ã‚­ãƒƒãƒˆ",okutama_dorifto="ä¸­å±±ã‚µãƒ¼ã‚­ãƒƒãƒˆ",osaka_sideways="æ—¥æœ¬ã‚°ãƒ©ãƒ³ãƒ—ãƒª (4è¼ª)",oschersleben="ãƒ¢ãƒ¼ãƒˆãƒ«ã‚·ãƒ¥ãƒãƒ«ãƒˆãƒ»ã‚¢ãƒªãƒ¼ãƒŠãƒ»ã‚ªãƒƒã‚·ãƒ£ãƒ¼ã‚¹ãƒ¬ãƒ¼ãƒ™ãƒ³",oulton_park="ã‚ªã‚¦ãƒ«ãƒˆãƒ³ãƒ»ãƒ‘ãƒ¼ã‚¯",paul_ricard="ãƒãƒ¼ãƒ«ãƒ»ãƒªã‚«ãƒ¼ãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",["Peklo"]="ãƒ”ãƒ ãƒªã‚³ç«¶é¦¬å ´",petersberghillclimb="ã‚»ãƒ³ãƒˆãƒ”ãƒ¼ã‚¿ãƒ¼ã‚ºãƒãƒ¼ã‚°å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",prato_long="ãƒ—ãƒ©ãƒ¼ãƒˆ",prato_short="ãƒ—ãƒ©ãƒ¼ãƒˆ",red_ring="ãƒ¬ãƒƒãƒ‰ãƒ–ãƒ«ãƒ»ãƒªãƒ³ã‚¯",redbullring="ãƒ¬ãƒƒãƒ‰ãƒ–ãƒ«ãƒ»ãƒªãƒ³ã‚¯",rio="ãƒãƒ«ã‚½ãƒ³ãƒ»ãƒ”ã‚±ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",riverside="ãƒªãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",road_atlanta2017="ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒˆãƒ©ãƒ³ã‚¿",road_atlanta2018="ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒˆãƒ©ãƒ³ã‚¿",rt_bathurst="ãƒã‚¦ãƒ³ãƒˆãƒ»ãƒ‘ãƒãƒ©ãƒãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",rt_daytona="ãƒ‡ã‚¤ãƒˆãƒŠãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",sachsenring="ã‚¶ã‚¯ã‚»ãƒ³ãƒªãƒ³ã‚¯",salzburgring="ã‚¶ãƒ«ãƒ„ãƒ–ãƒ«ã‚¯ãƒªãƒ³ã‚¯",sandev_f3ct="ã‚¶ãƒ³ãƒˆãƒ•ã‚©ãƒ¼ãƒ«ãƒˆãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",sandown_raceway_2012="ã‚µãƒ³ãƒ€ã‚¦ãƒ³ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",["sebring international raceway rtb0.2"]="ã‚»ãƒ–ãƒªãƒ³ã‚°ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",sebring_rtb_v08="ã‚»ãƒ–ãƒªãƒ³ã‚°ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",sebring="ã‚»ãƒ–ãƒªãƒ³ã‚°ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",sepang="ã‚»ãƒ‘ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",["Shibuya"]="æ¸‹è°·åŒº",shomaru="æ­£ä¸¸é§…",["simtraxx_pikes_peak_0.81"]="ãƒ‘ã‚¤ã‚¯ã‚¹ãƒ»ãƒ”ãƒ¼ã‚¯ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",["simtraxx_pikes_peak_hc_asph_0.7"]="ãƒ‘ã‚¤ã‚¯ã‚¹ãƒ»ãƒ”ãƒ¼ã‚¯ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",simtraxx_transfagarasan_cl="ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚¡ã‚¬ãƒ©ã‚·ãƒ£ãƒ³",singapore_street_circuit_night="ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",singapore="ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«å¸‚è¡—åœ°ã‚³ãƒ¼ã‚¹",sonoma="ã‚½ãƒãƒãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",spa_1966="ã‚¹ãƒ‘ãƒ»ãƒ•ãƒ©ãƒ³ã‚³ãƒ«ã‚·ãƒ£ãƒ³",spa92="ã‚¹ãƒ‘ãƒ»ãƒ•ãƒ©ãƒ³ã‚³ãƒ«ã‚·ãƒ£ãƒ³",spielberg="ãƒ¬ãƒƒãƒ‰ãƒ–ãƒ«ãƒ»ãƒªãƒ³ã‚¯",["targa-florio"]="ã‚¿ãƒ«ã‚¬ãƒ»ãƒ•ãƒ­ãƒ¼ãƒªã‚ª",tmm_lausitzring="ãƒ¦ãƒ¼ãƒ­ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤ãƒ»ãƒ©ã‚¦ã‚¸ãƒƒãƒ„",["toscana_0.31"]="ãƒ ã‚¸ã‚§ãƒ­ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",ttassen="TTã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ»ã‚¢ãƒƒã‚»ãƒ³",upper_bob_creek="ã‚·ãƒ£ãƒ¼ãƒ­ãƒƒãƒˆãƒ»ãƒ¢ãƒ¼ã‚¿ãƒ¼ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",usce="ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ»ã‚ªãƒ–ãƒ»ã‚¸ãƒ»ã‚¢ãƒ¡ãƒªã‚«ã‚º",valencia="ãƒãƒ¬ãƒ³ã‚·ã‚¢ãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",vdc_road_atlanta_2019="ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒˆãƒ©ãƒ³ã‚¿",vir="ãƒãƒ¼ã‚¸ãƒ‹ã‚¢ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",vr_daytona="ãƒ‡ã‚¤ãƒˆãƒŠãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤",watkins="ãƒ¯ãƒˆã‚­ãƒ³ã‚ºãƒ»ã‚°ãƒ¬ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«",wdt_mrw_2020="ãƒ¢ã‚¹ã‚¯ãƒ¯ãƒ»ãƒ¬ãƒ¼ã‚¹ã‚¦ã‚§ã‚¤",wdt_redring_winter="ãƒ¬ãƒƒãƒ‰ãƒ–ãƒ«ãƒ»ãƒªãƒ³ã‚¯",wijchen="ãƒ¯ãƒˆã‚­ãƒ³ã‚ºãƒ»ã‚°ãƒ¬ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒŠã‚·ãƒ§ãƒŠãƒ«",["yas_marina_circuit-day"]="ãƒ¤ã‚¹ãƒ»ãƒãƒªãƒ¼ãƒŠãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",["yas_marina_circuit-night"]="ãƒ¤ã‚¹ãƒ»ãƒãƒªãƒ¼ãƒŠãƒ»ã‚µãƒ¼ã‚­ãƒƒãƒˆ",["yokohamadocks_0.1"]="æ¨ªæµœç«¶é¦¬å ´",vrc_southstar="ãƒ†ã‚­ã‚µã‚¹ãƒ»ãƒ¢ãƒ¼ã‚¿ãƒ¼ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¦ã‚§ã‚¤"}
ac.setNavigatorText("TrackName", n[ac.getTrackID()] or ac.getTrackName())

-- Some clickable buttons
local btnPowerStart = vec2(406, 419) / 1024
local btnPowerSize = vec2(87, 46) / 1024
local btnNextTrack = vec3(-0.0232, 0.448, 0.594)
local btnPreviousTrack = vec3(-0.0074, 0.447, 0.594)
local btnPlayPause = vec3(-0.0622, 0.448, 0.594)

function script.update()
  if ac.isMeshClicked("INT_Kenwood_mna_350", btnPowerStart, btnPowerSize) then
    ac.mediaPlayPause()
  end
  if ac.isMeshClicked("INT_Kenwood_mna_350", nil, nil, btnNextTrack, 0.005) then
    ac.mediaNextTrack()
  end
  if ac.isMeshClicked("INT_Kenwood_mna_350", nil, nil, btnPreviousTrack, 0.005) then
    ac.mediaPreviousTrack()
  end
  if ac.isMeshClicked("INT_Kenwood_mna_350", nil, nil, btnPlayPause, 0.01) then
    ac.mediaPlayPause()
  end
  ac.pauseScriptUntil(ac.ScriptResumeCondition.MeshInteraction) -- only awake when mouse is pressed (or VR hands are present)
end'

; Now letâ€™s apply all of those things together
[Navigator_Base]
Meshes = __navigator_mesh_1
Resolution = 320, 240 ; resolution from https://www.kenwood.com/jp/cs/imdl/data/MNA350_audio.pdf
Offset = 0, 0
Size = 320, 240
Brightness = 1

; @ = Navigator_ImmediateLoading ; uncomment for instant loading, good for tweaking
@ = Navigator_CameraParamsDefault
@ = Navigator_MapKenwoodMna350
@ = Navigator_ThemeKenwoodMna350
@ = Navigator_LayoutKenwoodMna350

; Next thing, the stereo. Again, we need an extra mesh, original isnâ€™t mapped horizontally (might be something
; to look closer in the future, allowing to animate any meshes). This one doesnâ€™t need digital screen shader, so
; here is a direct use of _Display_ExtraShape_Geometry mixin
[EXTRA_SHAPE_...]
MESH_NAME = mesh_Stereo
MATERIAL_NAME = mesh_Stereo_mat
PARENT = 'FBX: zc_nissan_s13.fbx' ; note: in both cases we attach things to the root node, which isnâ€™t the best, but COCKPIT_HR has some major scaling on it, so it is what it is
@ = _Display_ExtraShape_Geometry, P1 = "-0.0148, 0.4789, 0.615", P2 = "-0.072, 0.4789, 0.615", P3 = "-0.072, 0.4673, 0.6078", P4 = "-0.0148, 0.4673, 0.6078"

; Material for created shape
[SHADER_REPLACEMENT_â€¦]
MATERIALS = mesh_Stereo_mat
SHADER = ksPerPixelAT_NM_emissive
RESOURCE_0 = txDiffuse
RESOURCE_COLOR_0 = '#2F1629'
FILL_MISSING_TEXTURES = 1
PROP_... = ksDiffuse, 0.05
PROP_... = ksAmbient, 0.05
PROP_... = ksEmissive, 4, 4, 4
PROP_... = emSkipDiffuseMap, 1

; And the actual stereo, similar to the one from Abarth, but a bit simplified to be closer to reference photos
[CAR_STEREO_â€¦]
MESHES = mesh_Stereo
RESOLUTION = 512, 128
TEXTURE_SLOT = txEmissive
DISPLAY_POS = 0, 0
DISPLAY_SIZE = 512, 128
BACKGROUND = 0, 0, 0, 1
FONT = digital_big
TEXT_0 = "{Artist} - {Track}"
TEXT_0_NOALBUM = "{Artist} - {Track}"
TEXT_0_NOARTIST = "{Track}"
TEXT_0_FALLBACK = "{Time}"
TEXT_0_ALIGN = CENTER
TEXT_0_START = 60, 16
TEXT_0_SPACING = 3
TEXT_0_LETTER = 40, 80
TEXT_0_LETTERS_LIMIT = 9
ICON_0 = FM
ICON_0_START = 158, 88
ICON_0_SIZE = 24, 24
ICON_1 = LEVELS
ICON_1_START = 340, 88
ICON_1_SIZE = 24, 24
ANIMATION_0 = 7, 5
ANIMATION_0_START = 190, 88
ANIMATION_0_BLOCK = 18, 3
ANIMATION_0_MARGIN = 3, 2
ANIMATION_0_BASE_ROW = BOTTOM

; And the last thing, some glow
[SHADER_REPLACEMENT_â€¦]
MATERIALS = INT_Kenwood_mna_Logos
SHADER = ksPerPixelAT_NM_emissive
RESOURCE_0 = txEmissive
RESOURCE_FILE_0 = Kenwood_mna_emissive.dds
PROP_... = ksEmissive, 4, 0, 0

; And the last thing, some glow
[SHADER_REPLACEMENT_â€¦]
MATERIALS = INT_Kenwood_mna
RESOURCE_0 = txEmissive
RESOURCE_FILE_0 = Kenwood_mna_emissive.dds

[EMISSIVE_LIGHT_â€¦]
NAME = INT_Kenwood_mna_350
COLOR = 40, 40, 40
OFF_COLOR = 0, 40, 40 ; trick stopping POWER button from glowing during the day
LAG = 0.8

[EMISSIVE_LIGHT_â€¦]
NAME = INT_Kenwood_mna_Logos
COLOR = 4, 0.2, 0
LAG = 0.8
